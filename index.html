<!DOCTYPE html>
<html lang="it">
    <head>
        <!-- Begin Inspectlet Asynchronous Code -->
        <script type="text/javascript">
            (function () {
                window.__insp = window.__insp || [];
                __insp.push(["wid", 1477059121]);
                var ldinsp = function () {
                    if (typeof window.__inspld != "undefined") return;
                    window.__inspld = 1;
                    var insp = document.createElement("script");
                    insp.type = "text/javascript";
                    insp.async = true;
                    insp.id = "inspsync";
                    insp.src =
                        ("https:" == document.location.protocol
                            ? "https"
                            : "http") +
                        "://cdn.inspectlet.com/inspectlet.js?wid=1477059121&r=" +
                        Math.floor(new Date().getTime() / 3600000);
                    var x = document.getElementsByTagName("script")[0];
                    x.parentNode.insertBefore(insp, x);
                };
                setTimeout(ldinsp, 0);
            })();
        </script>
        <!-- End Inspectlet Asynchronous Code -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>SF Invaders 2.0</title>
        <link rel="stylesheet" href="./css/main.css" />
        <link rel="stylesheet" href="./css/modal.css" />
        <link
            rel="icon"
            type="image/x-icon"
            href="./assets/img/cross/favicon.png"
        />
        <link
            rel="icon"
            type="image/png"
            href="./assets/img/cross/favicon.png"
        />
    </head>

    <body>
        <audio id="laserAudio" src="./assets/sounds/laser.wav"></audio>
        <div class="game-wrapper">
            <div class="game-box">
                <div class="game-info">
                    PUNTEGGIO:
                    <span id="game-points"></span><br /><br />
                    VITE:
                    <span id="game-lives"></span>
                </div>
            </div>
            <div class="game-controls">
                <div id="leftB"></div>
                <div id="spaceB"></div>
                <div id="rightB"></div>
            </div>
        </div>

        <!-- ALL Modal -->
        <!-- ScoreBoard Modal (modal-scoreboard)
          showScoreboardModal()
          hideScoreboardModal()
        -->
        <div class="modal-overlay modal-scoreboard">
            <div class="modal modal-scoreboard">
                <a href="" class="close-modal">
                    <svg viewBox="0 0 20 20">
                        <path
                            fill="#000000"
                            d="M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z"
                        ></path>
                    </svg>
                </a>
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h6 style="color: #848d9f">Classifica:</h6>
                    <div id="scoreboard-list">Caricamento...</div>
                </div>
            </div>
        </div>

        <!-- Codice Modal (modal-codice)
          hideCodiceModal()
          showCodiceModal(percentuale, codice)
        -->
        <div class="modal-overlay modal-codice">
            <div class="modal modal-codice">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h5 class="text-green">COMPLIMENTI!</h5>
                    <h6>
                        Hai vinto un codice sconto
                        <span class="text-green"
                            >CODICE SCONTO DA
                            <span id="percentuale-sconto"></span
                        ></span>
                        SU UN CORSO A TUA SCELTA!
                    </h6>
                    <h3 id="codice-sconto" class="text-green">AF35GH</h3>
                    <br />
                    <a
                        data-clipboard-target="#codice-sconto"
                        class="button-lg-flat button-gray"
                        >Copia codice</a
                    >
                    <a
                        href="https://starting-finance-shop.myshopify.com/collections/corsi-di-formazione-2"
                        target="_blank"
                        class="button-lg-flat button-white"
                        >Vai allo shop</a
                    >
                    <br />
                    <br />
                    <a href="" class="button-lg-flat button-green">RIGIOCA</a>
                    <a
                        href="#"
                        onclick="showScoreboardModal(); hideModal('modal-codice');"
                        class="button-lg-flat button-red"
                        >CLASSIFICA</a
                    >
                </div>
            </div>
        </div>

        <!-- Fallito Modal (modal-fallito)
          hideFallitoModal()
          showFallitoModal(point)
        -->
        <div class="modal-overlay modal-fallito">
            <div class="modal modal-fallito">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h3 style="color: #ff627a">HAI FALLITO</h3>
                    <h2 style="display: inline" id="final-score-fallito">
                        Pochi
                    </h2>
                    <h2 style="display: inline">PT</h2>
                    <h4>
                        Hai totalizzato un punteggio troppo basso. Puoi fare di
                        meglio...
                        <span style="color: #46c59c">RITENTA!</span>
                    </h4>
                    <br />
                    <a href="" class="button-lg-flat button-green">RIGIOCA</a>
                    <a
                        href="#"
                        onclick="showScoreboardModal(); hideModal('modal-fallito');"
                        class="button-lg-flat button-red"
                        >CLASSIFICA</a
                    >
                </div>
            </div>
        </div>

        <!-- Grandioso Modal (modal-grandioso)
          hideModal("modal-grandioso")
          showModal("modal-grandioso")
          toggleModal("modal-grandioso")
        -->
        <div class="modal-overlay modal-grandioso">
            <div class="modal modal-grandioso">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h3 style="color: #46c59c">Fantastico!</h3>
                    <h2 style="display: inline" id="final-score">Tanti</h2>
                    <h2 style="display: inline">PT</h2>
                    <h4>
                        Sei rientrato nella
                        <span style="color: #ff627a">TOP 10</span>: SALVA IL TUO
                        RISULTATO!
                    </h4>
                    <br />
                    <input
                        type="text"
                        id="player-name"
                        maxlength="10"
                        placeholder="Nome"
                    />
                    <br /><br />
                    <a
                        href="#"
                        onclick="setScore(document.getElementById('final-score').innerHTML, document.getElementById('player-name').value); hideModal('modal-grandioso');"
                        class="button-lg-flat button-green"
                        >Salva</a
                    >
                </div>
            </div>
        </div>

        <!-- Start Modal (modal-start)
          hideModal("modal-start")
          showModal("modal-start")
          toggleModal("modal-start")
        -->
        <div class="modal-overlay modal-start active">
            <div class="modal modal-start active">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h6>
                        Elon Musk e' sotto attacco!<br />
                        Aiutalo a sconfiggere i nemici che minacciano il suo
                        impero.
                    </h6>
                    <h6 style="color: #848d9f">
                        In palio un codice sconto per i corsi di formazione
                        Starting Finance.
                    </h6>
                    <br />
                    <a
                        href="#"
                        onclick="hideModal('modal-start'); showModal('modal-tutorial'); "
                        class="button-lg-flat button-green"
                        >GIOCA</a
                    >
                    <a
                        href="#"
                        onclick="showScoreboardModal(); hideModal('modal-start');"
                        class="button-lg-flat button-red"
                        >CLASSIFICA</a
                    ><br /><br />
                    <a
                        href="#"
                        id="shareButton"
                        class="button-lg-flat button-gray"
                        >Condividi</a
                    >
                </div>
            </div>
        </div>

        <!-- Shere Modal (modal-shere)
          hideModal("modal-shere")
          showModal("modal-shere")
          toggleModal("modal-shere")
        -->
        <div class="modal-overlay modal-shere">
            <div class="modal modal-shere">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h4 style="color: #848d9f">shortinvaders.com</h4>
                    <br />
                    <a
                        href="#"
                        data-clipboard-text="https://shortinvaders.com"
                        class="button-lg-flat button-green"
                        >COPIA LINK</a
                    >
                    <a
                        href="#"
                        onclick="hideModal('modal-shere');"
                        class="button-lg-flat button-red"
                        >CHIUDI</a
                    ><br /><br />
                </div>
            </div>
        </div>

        <!-- Tutorial Modal (modal-tutorial)
          hideModal("modal-tutorial")
          showModal("modal-tutorial")
          toggleModal("modal-tutorial")
        -->
        <div class="modal-overlay modal-tutorial">
            <div
                style="box-shadow: none; height: 100%"
                class="modal modal-transparent modal-tutorial"
            >
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <video width="100%" loop autoplay>
                        <source src="assets/img/landing/tutorial-min.mp4" type="video/mp4">
                        <h5>Sparaaaaaaaaa!</h5>
                      </video>                      
                    <!-- <img src="assets/img/landing/tutorial-min.gif" alt="Game
                    Tutorial" width=100%/ style="margin: 10px 0;"> -->
                    <br><br>
                    <a
                        href="#"
                        class="button-lg-flat button-green"
                        onclick="hideModal('modal-tutorial'); startGame();"
                        >Gioca</a
                    >
                </div>
            </div>
        </div>

        <!-- Landscape Modal (modal-landscape)
          hideModal("modal-landscape")
          showModal("modal-landscape")
          toggleModal("modal-landscape")
        -->
        <div
            style="background-color: rgba(255, 255, 255, 1)"
            class="modal-overlay modal-landscape"
        >
            <div style="box-shadow: none" class="modal modal-landscape">
                <div class="modal-content" style="text-align: center">
                    <img src="assets\img\buttons\teslaLogo.png" alt="" />
                    <h3>Ruota il dispositivo.</h3>
                    <br />
                    <a href="" class="button-lg-flat button-green"
                        >OK HO GIRATO IL DISPOSITIVO</a
                    >
                </div>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
        <script type="module">
            import Cookies from "js-cookie";
        </script>
        <script src="./js/game.js"></script>
        <script src="./js/score.js"></script>
        <script>
            // Impostazioni
            const MIN_POINT_CIUPON = 10;
        </script>
        <script src="js/orientation.js"></script>
        <!-- Copy to clipboard (clipboard.js) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
        <script>
            new ClipboardJS("a");
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bowser@2.10.0/es5.min.js"></script>
        <script src="./js/browser.js"></script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=UA-88335213-2"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "UA-88335213-2");
        </script>
    </body>
</html>
